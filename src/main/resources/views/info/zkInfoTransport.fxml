<?xml version="1.0" encoding="UTF-8"?>
<?import cn.oyzh.easyzk.fx.ConnectComboBox?>
<?import cn.oyzh.fx.plus.controls.area.MsgTextArea?>
<?import cn.oyzh.fx.plus.controls.button.AccentButton?>
<?import cn.oyzh.fx.plus.controls.button.CloseButton?>
<?import cn.oyzh.fx.plus.controls.button.FXCheckBox?>
<?import cn.oyzh.fx.plus.controls.button.StopButton?>
<?import cn.oyzh.fx.plus.controls.combo.CharsetComboBox?>
<?import cn.oyzh.fx.plus.controls.FlexHBox?>
<?import cn.oyzh.fx.plus.controls.FlexVBox?>
<?import cn.oyzh.fx.plus.controls.text.AccentLabel?>
<?import cn.oyzh.fx.plus.controls.text.FXLabel?>
<?import cn.oyzh.fx.plus.handler.StateManager?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Text?>
<FlexVBox styleClass="root" xmlns:fx="http://javafx.com/fxml/1"
          fx:controller="cn.oyzh.easyzk.controller.info.ZKInfoTransportController" realWidth="850" realHeight="620">
    <fx:define>
        <StateManager fx:id="stateManager" managedBindVisible="true"/>
    </fx:define>
    <FlexHBox flexWidth="100%" realHeight="50">
        <AccentLabel text="%info.transport.label.source" realHeight="30" realWidth="80">
            <HBox.margin>
                <Insets left="20" top="10"/>
            </HBox.margin>
        </AccentLabel>
        <ConnectComboBox fx:id="formConnect" realHeight="30" flexWidth="100% - 315">
            <HBox.margin>
                <Insets left="10" top="10"/>
            </HBox.margin>
        </ConnectComboBox>
        <FXLabel text="字符集:" prefWidth="40">
            <HBox.margin>
                <Insets left="10" top="20"/>
            </HBox.margin>
        </FXLabel>
        <CharsetComboBox stateManager="$stateManager" fx:id="formCharset" realHeight="30" prefWidth="120">
            <HBox.margin>
                <Insets left="5" top="10"/>
            </HBox.margin>
        </CharsetComboBox>
    </FlexHBox>
    <FlexHBox flexWidth="100%" realHeight="50">
        <AccentLabel text="%info.transport.label.target" realHeight="30" realWidth="80">
            <HBox.margin>
                <Insets left="20" top="10"/>
            </HBox.margin>
        </AccentLabel>
        <ConnectComboBox stateManager="$stateManager" fx:id="targetConnect" realHeight="30" flexWidth="100% - 315">
            <HBox.margin>
                <Insets left="10" top="10"/>
            </HBox.margin>
        </ConnectComboBox>
        <FXLabel text="%info.transport.label.target" prefWidth="40">
            <HBox.margin>
                <Insets left="10" top="20"/>
            </HBox.margin>
        </FXLabel>
        <CharsetComboBox stateManager="$stateManager" fx:id="targetCharset" realHeight="30" prefWidth="120">
            <HBox.margin>
                <Insets left="5" top="10"/>
            </HBox.margin>
        </CharsetComboBox>
    </FlexHBox>
    <FlexHBox flexWidth="100%" realHeight="50">
        <AccentLabel text="%info.transport.label.options" realHeight="30" realWidth="80">
            <HBox.margin>
                <Insets left="20" top="10"/>
            </HBox.margin>
        </AccentLabel>
        <FXCheckBox stateManager="$stateManager" fx:id="existHandle" text="%info.transport.checkbox.skipByExists" selected="true">
            <HBox.margin>
                <Insets left="10" top="18"/>
            </HBox.margin>
        </FXCheckBox>
        <FXCheckBox stateManager="$stateManager" fx:id="applyFilter" text="%info.transport.checkbox.applyByFilter"
                      tipText="适用过滤配置列表的数据">
            <HBox.margin>
                <Insets left="10" top="18"/>
            </HBox.margin>
        </FXCheckBox>
    </FlexHBox>
    <FlexHBox flexWidth="100%" realHeight="280">
        <AccentLabel text="%info.transport.label.process" realHeight="30" realWidth="80">
            <HBox.margin>
                <Insets left="20" top="10"/>
            </HBox.margin>
        </AccentLabel>
        <FlexVBox flexWidth="100% - 140" flexHeight="100%">
            <HBox.margin>
                <Insets left="10" top="10"/>
            </HBox.margin>
            <MsgTextArea maxLine="300" fx:id="transportMsg" flexWidth="100%" flexHeight="100% - 20"/>
            <FXLabel fx:id="transportStatus"/>
        </FlexVBox>
    </FlexHBox>
    <FlexHBox flexWidth="100%" realHeight="50">
        <AccentButton stateManager="$stateManager" tipText="开始执行传输" fx:id="transportBtn"
                      onAction="#doTransport" realHeight="30"
                      iconUrl="/font/export.svg"
                      text="传输"
                      iconSizePercent="0.75">
            <HBox.margin>
                <Insets left="110" top="10"/>
            </HBox.margin>
        </AccentButton>
        <StopButton disable="true" fx:id="stopTransportBtn" tipText="结束传输" onAction="#stopTransport"
                    realHeight="30" iconSizePercent="0.9">
            <HBox.margin>
                <Insets left="15" top="10"/>
            </HBox.margin>
        </StopButton>
        <CloseButton>
            <HBox.margin>
                <Insets left="15" top="10"/>
            </HBox.margin>
        </CloseButton>
    </FlexHBox>
    <FlexVBox flexWidth="100%" fontSize="12">
        <FXLabel text="温馨提示:" textFill="#666">
            <VBox.margin>
                <Insets top="10"/>
            </VBox.margin>
        </FXLabel>
        <Text fill="#666" text="1. 临时节点不支持传输">
            <VBox.margin>
                <Insets top="10"/>
            </VBox.margin>
        </Text>
        <Text fill="#666" text="2. 节点无读取权限无法传输">
            <VBox.margin>
                <Insets top="10"/>
            </VBox.margin>
        </Text>
        <Text fill="#666" text="3. 连接相同时无法传输">
            <VBox.margin>
                <Insets top="10"/>
            </VBox.margin>
        </Text>
        <VBox.margin>
            <Insets left="110"/>
        </VBox.margin>
    </FlexVBox>
</FlexVBox>
